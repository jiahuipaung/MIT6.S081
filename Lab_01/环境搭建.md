# æœ¬åœ°é…ç½®
macOS sonoma14.4ï¼ŒèŠ¯ç‰‡Apple M3

# Homebrewå®‰è£…
ä½¿ç”¨é•œåƒå®‰è£…ï¼Œé¿å…è¿æ¥è¶…æ—¶
```
bin/zsh -c "$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)"
```
# å®‰è£…Qemu
é€šè¿‡åŒ…ç®¡ç†å·¥å…·ç›´æ¥å®‰è£…ï¼Œmacä¸‹ä½¿ç”¨çš„æ˜¯homebrewï¼Œå¦‚æœé€Ÿåº¦è¾ƒæ…¢å¯åˆ‡æ¢tsinghuaæºã€‚
```
brew install qemu 
```

# RISC-V toolchain
## å®˜æ–¹æ­¥éª¤
ä»githubé€’å½’æ‹‰å–å¤šè¾¾5Gçš„é¡¹ç›®å†…å®¹ï¼Œå¤§æ¦‚ç‡ä¼šè¶…æ—¶æˆ–è€—æ—¶è¿‡ä¹…
```
git clone --recursive https://github.com/riscv/riscv-gnu-toolchain
```
## ä½¿ç”¨[ä¸­ç§‘å¤§é•œåƒæº](https://help.mirrors.cernet.edu.cn/riscv-toolchains/)
```

# riscv-gnu-toolchain åŠå…¶å­æ¨¡å—
## å•ç‹¬å…‹éš†
git clone https://mirror.iscas.ac.cn/riscv-toolchains/git/riscv-collab/riscv-gnu-toolchain.git
## åŒæ—¶å…‹éš†å­æ¨¡å—ï¼Œæ³¨æ„è·¯å¾„ä¸º .git æ›¿æ¢ä¸º .sh
curl https://mirror.iscas.ac.cn/riscv-toolchains/git/riscv-collab/riscv-gnu-toolchain.sh | bash
```
åœ¨æ­¤ä¹‹å‰éœ€è¦å®‰è£…homebrewä¾èµ–é¡¹
```
$brew å®‰è£… python3 gawk gnu-sed gmp mpfr libmpc isl zlib expat texinfo flock
```
## åœ¨é¡¹ç›®æ ¹è·¯å¾„ä¸‹ç¼–è¯‘
```
cd riscv-gnu-toolchain
./configure --prefix=/usr/local/opt/riscv-gnu-toolchain    #é…ç½®äº§ç‰©è·¯å¾„
make      #ç¼–è¯‘
#æ­¤å¤„å¤šæ¬¡ç¼–è¯‘è¶…æ—¶ï¼Œæœªè§£å†³ğŸ¥²
```
## é…ç½®ç¯å¢ƒå˜é‡

å®‰è£…å®Œæˆåéœ€é…ç½®ç¯å¢ƒå˜é‡ï¼Œä¸ä¸Šä¸€æ­¥è®¾ç½®çš„å®‰è£…è·¯å¾„ä¸€è‡´ã€‚

Macä¸‹çš„ç¯å¢ƒé…ç½®æ–‡ä»¶æ˜¯~/.bash_profileï¼ˆLinuxä¸‹ä¸º~/.bashrcæˆ–~/.profile)ï¼Œä½¿ç”¨ç¼–è¾‘å™¨ (å¦‚vim) æ‰“å¼€æ–‡ä»¶ï¼Œåœ¨æœ€åä¸€è¡Œæ·»åŠ é…ç½®ï¼Œæ“ä½œå¦‚ä¸‹ï¼š

```
vim ~/.bash_profile                                              #æ‰“å¼€é…ç½®æ–‡ä»¶
export PATH="$PATH:/usr/local/opt/riscv-gnu-toolchain/bin"       #æœ«å°¾æ·»åŠ æ­¤è¡Œ
source ~/.bash_profile                                           #ä½¿é…ç½®ç”Ÿæ•ˆ
```

# ä¸‹è½½xv6æºç 
```
git clone git://g.csail.mit.edu/xv6-labs-2023
```

# è¿è¡ŒåŠæ£€éªŒ
åœ¨xv6æºç è·¯å¾„ä¸‹
```
make
make qemu
```
ä½¿ç”¨lså‘½ä»¤æ£€æŸ¥æ˜¯å¦æˆåŠŸ